/*
 * generated by Xtext 2.13.0
 */
package de.cau.cs.kieler.ehelp.validation

import de.cau.cs.kieler.ehelp.eHelp.Images
import org.eclipse.xtext.validation.Check
//import de.cau.cs.kieler.ehelp.util.EHelpUtil
//import de.cau.cs.kieler.ehelp.util.EHelpConsts
import java.io.File
import de.cau.cs.kieler.ehelp.util.EHelpUtil
import de.cau.cs.kieler.ehelp.util.EHelpConsts

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
class EHelpValidator extends de.cau.cs.kieler.ehelp.validation.AbstractEHelpValidator {
	
	@Check
	def checkImageExistence(Images images) {
//		val destFolder = Util.getCurrentWorkspaceLocationString() + "/" + Constants.GEN_FOLDER_BASE + "/" +
//			Constants.GEN_FOLDER_NAME + "/" + Constants.GEN_IMAGE_SUBFOLDER_NAME;
		val destFolder = EHelpUtil.getCurrentWorkspaceLocationString() 
		
		for (image : images.images) {
			if (!(new File(destFolder + "/" + image).exists)) {
				warning(EHelpConsts.WARNING_IMAGES_NOT_EXISTS + ": '"+image+"'", images, null)
			}
		}			
			
	}
	
//	public static val INVALID_NAME = 'invalidName'
//
//	@Check
//	def checkGreetingStartsWithCapital(Greeting greeting) {
//		if (!Character.isUpperCase(greeting.name.charAt(0))) {
//			warning('Name should start with a capital', 
//					CCCToolHelpPackage.Literals.GREETING__NAME,
//					INVALID_NAME)
//		}
//	}
	
}
