/*
 * generated by Xtext
 */
package de.cau.cs.kieler.kexpressions.validation

import de.cau.cs.kieler.kexpressions.VariableDeclaration
import org.eclipse.xtext.validation.Check

//import org.eclipse.xtext.validation.Check

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
class KExpressionsValidator extends AbstractKExpressionsValidator {

    public static val CONST_DECLARATION_EXPECTS_INITIALIZATION = "A const declaration must have an initialization part!";    
    
    @Check
    public def void checkConstInitialization(VariableDeclaration declaration) {
        if (declaration.isConst) {
            for(vo : declaration.valuedObjects) {
                if (vo.initialValue == null) {
                    error(CONST_DECLARATION_EXPECTS_INITIALIZATION, vo, null, -1)
                }
            }
        }
    }  
}
