/*
 * generated by Xtext
 */
package de.cau.cs.kieler.kexpressions.keffects.validation

import org.eclipse.xtext.validation.Check
import org.eclipse.xtext.validation.CheckType
import de.cau.cs.kieler.kexpressions.keffects.PrintCallEffect
import de.cau.cs.kieler.kexpressions.OperatorExpression

//import org.eclipse.xtext.validation.Check

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
class KEffectsValidator extends AbstractKEffectsValidator {

    @Check(CheckType.NORMAL)
    def void checkPrintCallOperatorExpression(PrintCallEffect printCallEffect) {
        if (printCallEffect.parameters.size > 0) {
            if (printCallEffect.parameters.head.expression instanceof OperatorExpression) {
                warning("You do a calculation inside a print call effect. You should use printf syntax to be safe on different code generators.", 
                    printCallEffect, null)                
            }
        }
    }

}
